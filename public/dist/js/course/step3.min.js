define(["jquery","template","tool","bootstrap","jquery_form"],function(t,e,o){t(function(){var s=o.getParam("cs_id");t.ajax({type:"get",url:"/api/course/lesson",data:{cs_id:s},success:function(o){if(200==o.code){var s=e("step3_tpl",o.result);t(".course-add").html(s)}}}),t("body").on("click",".btn_edit",function(){var o=t(this).parent().data("id");t.ajax({type:"get",url:"/api/course/chapter/edit",data:{ct_id:o},success:function(o){var s=o.result;s.title="修改课时",s.btnText="修 改";var a=e("lesson_tpl",s);t("#lesson").html(a),t("#lesson").data("type","edit"),t("#lesson").modal("show")}})}),t("body").on("click",".btn_add",function(){var o=e("lesson_tpl",{title:"添加课时",btnText:"添 加",ct_cs_id:s});t("#lesson").html(o),t("#lesson").data("type","add"),t("#lesson").modal("show")}),t("body").on("click",".btn_save",function(){console.log(111);var e="";e="edit"==t("#lesson").data("type")?"/api/course/chapter/modify":"/api/course/chapter/add";var o;o=t("#ct_is_free").prop("checked")?0:1,t("form").ajaxSubmit({type:"post",url:e,data:{ct_is_free:o},success:function(e){200==e.code&&(console.log(e),t("#lesson").modal("hide"),location.reload())}})})})});